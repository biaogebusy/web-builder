@use '~@angular/material' as mat;
@import "../../theme/variable/breakpoint";
@import "../../theme/mixins/amixin";

@mixin widgets-color($config-or-theme) {
  $config: mat.get-color-config($config-or-theme);
  $foreground: map-get($config, foreground);
  $background: map-get($config, background);
  $primary: map-get($config, primary);
  $accent: map-get($config, accent);
  $warn: map-get($config, warn);

  $bg-color: mat.get-color-from-palette($background, background);
  $divider-color: mat.get-color-from-palette($foreground, divider);
  .wave-wrapper {
    background: linear-gradient(
      -74deg,
      mat.get-color-from-palette($primary, 50) 0%,
      mat.get-color-from-palette($primary, 100) 100%
    );

    .wave {
      color: $bg-color;
    }
  }

  .breadcrumb {
    ul {
      li {
        color: mat.get-color-from-palette($foreground, text, 0.75);
        a {
          color: mat.get-color-from-palette($foreground, text, 0.75);
          &:hover {
            color: mat.get-color-from-palette($primary);
          }
        }
      }
    }
  }

  .testimonial {
    &.style-v2 {
      .bx-wrapper {
        img {
          border-color: $divider-color !important;
        }
      }
      .testimonial-detail {
        .info {
          color: mat.get-color-from-palette($foreground, secondary-text);
        }
        .sub-title {
          color: mat.get-color-from-palette($primary);
        }
        .desc {
          color: mat.get-color-from-palette($foreground, secondary-text);
        }
      }
    }
  }

  .line-year {
    border-top: solid 1.5px $divider-color;
    &:before {
      background: mat.get-color-from-palette($primary);
      border: 1px solid mat.get-color-from-palette($primary);
      box-shadow: 0 0px 1px 5px mat.get-color-from-palette($primary, 0.3);
    }
  }

  .feature-cover {
    &:before {
      background: $bg-color;
    }
    &:after {
      background: $bg-color;
    }
    .feature-inner {
      &:before {
        background: $bg-color;
      }
      &:after {
        background: $bg-color;
      }
    }
    .btns {
      > a {
        background: $bg-color;
        color: mat.get-color-from-palette($primary);
        &.icon-link {
          background: rgba(0, 0, 0, 0.8);
          color: mat.get-color-from-palette($primary, default-contrast);
        }
      }
    }
    .feature-inner-ling {
      .media {
        background-color: mat.get-color-from-palette($background, background);
      }
      .title {
        color: mat.get-color-from-palette($primary, default-contrast);
      }
      &:before {
        box-shadow: 0px -5px 3px rgba(0, 0, 0, 0.1) inset;
        -moz-box-shadow: 0px -5px 3px rgba(0, 0, 0, 0.1) inset;
        -webkit-box-shadow: 0px -5px 3px rgba(0, 0, 0, 0.1) inset;
      }
      &:after {
        background: mat.get-color-from-palette($primary);
      }
    }
  }

  .feature-float {
    .title {
      background-color: mat.get-color-from-palette($foreground, elevation, 0.7);
      color: mat.get-color-from-palette($primary, default-contrast, 0.8);
    }
    .btns {
      .btn {
        transition: all 0.3s;
      }
      .btn-full {
        color: mat.get-color-from-palette($primary);
        border: 1px solid mat.get-color-from-palette($primary, 0.4);
        background-color: mat.get-color-from-palette($primary, 0.2);
        @include mat.elevation(3, mat.get-color-from-palette($primary), 0.5);
        &:hover {
          background-color: mat.get-color-from-palette($primary);
          color: mat.get-color-from-palette($primary, default-contrast);
        }
      }
      .btn-open {
        color: mat.get-color-from-palette($warn);
        border: 1px solid mat.get-color-from-palette($warn, 0.4);
        background-color: mat.get-color-from-palette($warn, 0.2);
        @include mat.elevation(3, mat.get-color-from-palette($warn), 0.5);
        &:hover {
          background-color: mat.get-color-from-palette($warn);
          color: mat.get-color-from-palette($primary, default-contrast);
        }
      }
    }
    .media {
      img {
        background-color: mat.get-color-from-palette($background, "app-bar");
      }
    }
  }

  .overlay {
    &:before {
      background-color: rgba(60, 72, 88, 0.7);
    }
  }

  .pagination {
    button.current {
      background-color: mat.get-color-from-palette($primary) !important;
      color: mat.get-color-from-palette($primary, default-contrast) !important;
      border-radius: 4px;
    }
  }

  .list-done {
    li {
      &:before {
        color: mat.get-color-from-palette($primary);
        background-color: mat.get-color-from-palette($primary, text, 0.6);
      }
    }
  }

  .list-clear {
    li {
      &:before {
        color: mat.get-color-from-palette($warn, text);
        background-color: mat.get-color-from-palette($warn, 0.25);
      }
    }
  }

  .search-action {
    @media #{$gt-sm} {
      form {
        background-color: mat.get-color-from-palette($background, card);
        @include mat.elevation(
          4,
          mat.get-color-from-palette($foreground, text),
          0.2
        );
        border: 1px solid mat.get-color-from-palette($foreground, divider, 0.1);
        &:hover,
        &:focus {
          @include mat.elevation(4, mat.get-color-from-palette($primary), 0.5);
          border: 1px solid mat.get-color-from-palette($primary, 0.1);
        }
      }
    }
  }

  .tree-inner {
    background-color: mat.get-color-from-palette($background, card);
    border: 1px solid $divider-color;
    .node-content-wrapper-active,
    .node-content-wrapper:hover {
      background-color: mat.get-color-from-palette($primary, 100);
    }
  }

  .tree {
    @include scrollbar(mat.get-color-from-palette($foreground, divider, 0.2));
  }

  .media-meta {
    border-bottom: 1px solid $divider-color;
    .top,
    .middle {
      color: mat.get-color-from-palette($foreground, text, 0.3);
    }
  }

  quill-editor {
    background-color: mat.get-color-from-palette($background, background);
    .ql-toolbar,
    .ql-container {
      border-color: mat.get-color-from-palette($foreground, divider);
    }
    .ql-container {
      background-color: mat.get-color-from-palette($background, card);
    }
  }

  .view-list {
    .sidebar {
      > .inner {
        background-color: mat.get-color-from-palette($background, card);
        @include mat.elevation(
          4,
          mat.get-color-from-palette($foreground, divider),
          0.5
        );
      }
    }
    .view {
      @include mat.elevation(
        6,
        mat.get-color-from-palette($foreground, divider),
        0.25
      );
    }
  }

  .dynamic-table {
    background-color: mat.get-color-from-palette($background, card);
    .mat-header-cell {
      color: mat.get-color-from-palette($foreground, text);
    }
    tbody {
      > tr {
        &:hover {
          background-color: mat.get-color-from-palette($background, background);
        }
      }
      td {
        .marker {
          color: mat.get-color-from-palette($warn);
        }
      }
    }
  }

  .border-primary {
    border: 1px solid mat.get-color-from-palette($primary) !important;
    background-color: mat.get-color-from-palette($background, card);
  }

  .border-warn {
    border: 1px solid mat.get-color-from-palette($warn) !important;
    background-color: mat.get-color-from-palette($background, card);
  }

  .border-accent {
    border: 1px solid mat.get-color-from-palette($accent) !important;
    background-color: mat.get-color-from-palette($background, card);
  }

  .inline-lightbox {
    .inline {
      color: mat.get-color-from-palette($primary);
    }
  }

  .panel {
    .mat-expanded .mat-expansion-panel-header-title {
      .badge {
        color: mat.get-color-from-palette($primary, default-contrast);
        background-color: mat.get-color-from-palette($primary, 400, 0.85);
      }
    }
  }

  .chart {
    border: 1px solid mat.get-color-from-palette($foreground, divider);
    @include mat.elevation(
      2,
      mat.get-color-from-palette($foreground, divider),
      0.07
    );
  }

  .tab {
    &.pills {
      .mat-tab-labels {
        background-color: mat.get-color-from-palette($primary, 0.06);
      }
      .mat-tab-label-active {
        background-color: mat.get-color-from-palette($primary);
        color: mat.get-color-from-palette($primary, default-contrast);
        opacity: 1;
      }
    }
  }

  .github-star {
    background-color: mat.get-color-from-palette($background, card);
    border: 1px solid mat.get-color-from-palette($foreground, divider);
    a {
      color: mat.get-color-from-palette($foreground, text, 0.75);
    }
    .right {
      border-left: 1px solid mat.get-color-from-palette($foreground, divider);
    }
  }
  .mat-stroked-button:not(.mat-button-disabled) {
    border-color: mat.get-color-from-palette($primary);
  }

  .jsoneditor {
    border-color: mat.get-color-from-palette($primary);
    .jsoneditor-menu {
      background-color: mat.get-color-from-palette($primary);
      border-bottom-color: mat.get-color-from-palette($primary);
    }
  }
}
