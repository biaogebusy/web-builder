<div class="builder" [ngClass]="{'has-sidebar':!(builderFullScreen$|async)}" *ngIf="content">
  <mat-drawer-container>
    <mat-drawer #drawer class="sidebar" [mode]="mode" [opened]="!(builderFullScreen$|async)">
      <mat-tab-group mat-stretch-tabs mat-align-tabs="center" disableRipple="true">
        <mat-tab *ngFor="let tab of tabs">
          <ng-template mat-tab-label>
            <app-icon [content]="tab.icon"></app-icon>
            {{tab.label}}
          </ng-template>
          <div class="p-x-xs p-y-xs">
            <app-builder-sidebar-widgets *ngIf="tab.type === 'base'"
              [content]="tab.elements"></app-builder-sidebar-widgets>
            <app-builder-sidebar-components *ngIf="tab.type === 'component'"
              [content]="tab.elements"></app-builder-sidebar-components>
          </div>
        </mat-tab>
      </mat-tab-group>
      <app-builder-sample [content]="samples"></app-builder-sample>
    </mat-drawer>
    <mat-drawer-content>
      <app-builder-content-toolbar [containerDrawer]="containerDrawer" [page]="page"></app-builder-content-toolbar>
      <mat-drawer-container class="preview-container">
        <mat-drawer #containerDrawer class="generater-drawer" mode="over" position="end">
          <app-builder-generater [content]="tabs"></app-builder-generater>
        </mat-drawer>
        <mat-drawer-content>
          <app-builder-showcase *ngIf="builder.showcase$ | async as showcase"
            [content]="showcase"></app-builder-showcase>
          <app-builder-list [content]="content.body"></app-builder-list>
        </mat-drawer-content>
      </mat-drawer-container>
    </mat-drawer-content>
  </mat-drawer-container>
</div>