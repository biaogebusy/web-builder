<div class="builder" [ngClass]="{'has-sidebar':!(builderFullScreen$|async)}" *ngIf="content">
  <mat-drawer-container>
    <mat-drawer #drawer class="sidebar" [mode]="mode" [opened]="!(builderFullScreen$|async)">
      <mat-tab-group mat-stretch-tabs mat-align-tabs="center" disableRipple="true">
        <mat-tab>
          <ng-template mat-tab-label>
            <app-icon [content]="{svg:'view-grid-plus',inline:true}"></app-icon>
            基础
          </ng-template>
          <div class="p-x-xs p-y-xs">
            <app-builder-sidebar-widgets *ngIf="widgets" [content]="widgets"></app-builder-sidebar-widgets>
          </div>
        </mat-tab>
        <mat-tab>
          <ng-template mat-tab-label>
            <app-icon [content]="{svg:'format-list-bulleted',inline:true}"></app-icon>
            组件
          </ng-template>
          <div class="p-x-xs p-y-xs"><app-builder-sidebar-components *ngIf="components"
              [content]="components"></app-builder-sidebar-components></div>
        </mat-tab>
      </mat-tab-group>
    </mat-drawer>
    <mat-drawer-content>
      <app-builder-content-toolbar [containerDrawer]="containerDrawer" [page]="page"
        (animateChange)="onAnimate()"></app-builder-content-toolbar>
      <mat-drawer-container class="preview-container">
        <mat-drawer #containerDrawer class="generater-drawer" mode="side" position="end">
          <app-builder-generater [content]="{components:components,widgets:widgets}"></app-builder-generater>
        </mat-drawer>
        <mat-drawer-content>
          <app-builder-showcase *ngIf="builder.showcase$ | async as showcase"
            [content]="showcase"></app-builder-showcase>
          <app-builder-list [isPreview]="true" [content]="content.body" (dropChange)="drop($event)"></app-builder-list>
        </mat-drawer-content>
      </mat-drawer-container>
    </mat-drawer-content>
  </mat-drawer-container>
</div>