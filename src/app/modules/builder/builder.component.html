<div class="builder">
  <mat-drawer-container>
    <mat-drawer #drawer class="sidebar" mode="side" [(opened)]="opened">
      <app-builder-sidebar-top [drawer]="drawer" [opened]="opened"></app-builder-sidebar-top>
      <mat-divider class="m-y-xs"></mat-divider>
      <mat-accordion>
        <mat-expansion-panel *ngFor="let item of components">
          <mat-expansion-panel-header>
            <mat-panel-title>
              {{item.label}}
            </mat-panel-title>
          </mat-expansion-panel-header>
          <mat-list>
            <mat-selection-list #components [multiple]="false" cdkDropList>
              <mat-list-option (cdkDragDropped)="addComponent(component)" cdkDrag (mouseenter)="onShowcase(component)"
                (mouseleave)="onShowcase()" *ngFor="let component of item.elements">
                {{component.type}}
                <mat-divider></mat-divider>
              </mat-list-option>
            </mat-selection-list>
          </mat-list>
        </mat-expansion-panel>
      </mat-accordion>
    </mat-drawer>
    <mat-drawer-content>
      <app-icon *ngIf="!opened" [matTooltip]="'收起边栏'" matTooltipPosition="above" class="open-drawer"
        (click)="drawer.open()" [content]="{svg:'format-horizontal-align-right'}"></app-icon>
      <div class="showcase" *ngIf="showcase">
        <app-card-1v1 [content]="showcase"></app-card-1v1>
      </div>
      <ng-container *ngIf="content?.body?.length">
        <app-builder-list [content]="content.body" (dropChange)="drop($event)"></app-builder-list>
      </ng-container>
    </mat-drawer-content>
  </mat-drawer-container>
</div>