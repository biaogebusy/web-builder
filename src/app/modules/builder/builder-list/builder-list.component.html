<mat-drawer-container class="builder-list">
  <mat-drawer #drawer mode="side" [(opened)]="opened">
    <div class="sidebar" id="builder-list-sideabr" fxLayout="column" cdkDropList
      [cdkDropListConnectedTo]="['widgets','components']" (cdkDropListDropped)="drop($event)">
      <div class="component-item" cdkDrag [cdkDragData]="item"
        *ngFor="let item of content;index as i; trackBy: trackByFn">
        <div class="box" fxLayout="row" fxLayoutAlign="center center">
          <div class="p-x-xs">{{i}}</div>
          <div class="inner" fxLayout="column" fxLayoutAlign="center center">
            <div class="one-line bold">{{item.type||item.content.type}}</div>
            <div class="one-line">{{item.name}}</div>
          </div>
        </div>
      </div>
    </div>
  </mat-drawer>
  <mat-drawer-content>
    <div class="actions">
      <app-btn *ngIf="opened" [matTooltip]="'收起预览'" matTooltipPosition="above" (click)="drawer.close()"
        [content]="{label:'',color:'primary', mode: 'icon' ,icon:{svg:'arrow-expand-left' } }"></app-btn>
      <app-btn *ngIf="!opened" [matTooltip]="'展开预览'" matTooltipPosition="above" (click)="drawer.open()"
        [content]="{label:'',color:'primary', mode: 'icon' ,icon:{svg:'arrow-expand-right' } }"></app-btn>
    </div>
    <div #builderList id="builder-list" class="wrapper" cdkDropList [cdkDropListConnectedTo]="['widgets','components']"
      [cdkDropListData]="content" [cdkDropListDisabled]="builder.toolbarDisable$ | async"
      (cdkDropListDropped)="drop($event)">
      <app-builder-empty *ngIf="!content?.length"></app-builder-empty>
      <div class="component-item" cdkDrag [cdkDragData]="item"
        *ngFor="let item of content;index as i; trackBy: trackByFn">
        <app-dynamic-component [inputs]="item" [index]="i" [isPreview]="isPreview"></app-dynamic-component>
        <app-card-1v1 style="width:800px" *cdkDragPreview [content]="{
            link:{
              href:'#',
              label: item.type
            },components:[item]
          }"></app-card-1v1>
      </div>
      <app-gotop></app-gotop>
    </div>
  </mat-drawer-content>
</mat-drawer-container>