@if (!(isBuilderMode$ | async)) {
  @if (branding$ | async; as branding) {
    @if (!(contentState.pageConfig$|async)?.headerMode?.transparent) {
      <header>
        <div class="static" [class.header-inverse]="branding?.header?.params?.inverse">
          @if (showBanner) {
            <app-header-banner [content]="branding?.header?.banner">
            </app-header-banner>
          }
          @if (branding?.header?.top) {
            <app-header-top [content]="branding?.header?.top"></app-header-top>
          }
          @if (branding?.header) {
            <app-menu #menu></app-menu>
          }
        </div>
        <app-menu class="sticky" [class.sticking]="sticky"
        [class.header-inverse]="branding?.header?.params?.inverse"></app-menu>
      </header>
    } @else {
      <header #header id="transparent-mode" class="transparent-mode"
        [class.header-inverse]="branding.header.params.inverse"
        [ngClass]="(contentState.pageConfig$|async)?.headerMode?.style">
        <div class="static">
          @if (branding.header?.top) {
            <app-header-top [content]="branding.header.top"></app-header-top>
          }
          <app-menu #menu></app-menu>
        </div>
      </header>
    }
    <ng-template #transparent>
      <header #header id="transparent-mode" class="transparent-mode"
        [class.header-inverse]="branding.header.params.inverse"
        [ngClass]="(contentState.pageConfig$|async)?.headerMode?.style">
        <div class="static">
          @if (branding.header?.top) {
            <app-header-top [content]="branding.header.top"></app-header-top>
          }
          <app-menu #menu></app-menu>
        </div>
      </header>
    </ng-template>
  }
}