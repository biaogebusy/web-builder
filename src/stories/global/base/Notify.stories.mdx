import { Meta, Story } from "@storybook/addon-docs";

<Meta
  title="全局配置/通用/消息通知"
  id="notify-config"
  parameters={{
    viewMode: "docs",
    previewTabs: {
      canvas: { hidden: true },
    },
    layout: "fullscreen",
  }}
/>

## 通知配置

开启通知后，会根据以下配置轮询接口，点击具体的信息取消标记进而取消该条通知。

<Story id="notify--default" />

接口应按照以下返回：

```
[
  {
    url:"xxx",
    title:"xxx",
    message:"xxx",
    date:"xxx",
    uuid:"xxx"
  },
  {
    ...
  }
]
```

```json
{
  //..
  "notify": {
    "enable": true,
    "params": {
      "interval": 10000,
      "dateFormat": "YYYY-MM-dd"
    },
    "api": [
      {
        "get": "/api/v2/unread-message",
        "action": "/api/v1/flagging/message_unread",
        "reqRoles": ["lawyer", "assistant_lawyer"],
        "icon": "clipboard-text-clock",
        "color": "primay"
      },
      {
        "get": "/api/v1/filter/handler",
        "action": "/api/v3/private/read",
        "reqRoles": ["lawyer", "assistant_lawyer"],
        "icon": "chart-line",
        "color": "warn"
      }
    ]
  }
}
```
