import { Meta } from "@storybook/addon-docs";

<Meta
  title="开发/JSONAPI/分类"
  id="jsonapi-taxonomy"
  parameters={{
    viewMode: "docs",
    previewTabs: {
      canvas: { hidden: true },
    },
    layout: "fullscreen",
  }}
/>

## 获取文章分类列表

```
/jsonapi/taxonomy_term/article_category
```

## 过滤

查询名称为“最新动态”的分类项

```
/jsonapi/taxonomy_term/article_category?filter[name]=最新动态
```

## 获取单个分类

```
/jsonapi/taxonomy_term/category_article/[id]
```

## 过滤某个分类下的 node

```
GET {{apiUrl}}/api/v1/node/landing_page?filter[taxonomy_term--tags][condition][path]=group.name&filter[taxonomy_term--tags][condition][operator]=IN&filter[taxonomy_term--tags][condition][value]=示例页&noCache=1
```

taxonomy_term--tags 为 group，过滤分类名称为"示例页"的所有着陆页

使用 `DrupalJsonApiParams`

```js
const apiParams = new DrupalJsonApiParams();
apiParams
  .addPageLimit(20)
  .addSort("changed", "DESC")
  .addFilter("status", "1")
  .addFilter("group.name", "示例页")
  .addCustomParam({ noCache: true });
```

## 排除某个分类

```js
const apiParams = new DrupalJsonApiParams();
apiParams.addCustomParam({ noCache: true });

apiParams
  .addPageLimit(10)
  .addInclude(["uid", "revision_uid", "group"])
  .addSort("changed", "DESC")
  .addFilter("status", "1")
  .addFilter("group.name", "示例页", "IS NULL");
```
